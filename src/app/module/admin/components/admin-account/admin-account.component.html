<div class="container">
    <h3 class="text-center m-3">Quản lí tài khoản </h3>
    <hr>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
      THÊM ADMIN
    </button>
    <hr>
    <div class="row align-items-center ">
        <div class="col-md-3">
            <h3>Lọc vai trò</h3>
            <select class="form-select" aria-label="Default select example" [(ngModel)]="role" (ngModelChange)="roleSelectionChanged()">
               <option *ngFor="let r of roles">{{r.name}}</option>
            </select>
        </div>
        <div class="col-md-6  ">
            <h3 style="margin-left: 120px">Tìm kiếm</h3>
            <div class="d-flex" style="margin-left: 120px">
                <input type="text" placeholder="Tìm kiếm tên tài khoản" ng-model="search_username" class="form-control" style="height: 50px;width: 250px" />
            </div>
        </div>
        <div class="col-md-3">
            <h3>Lọc tài khoản bị khoá và chưa khoá</h3>
            <select class="form-select" aria-label="Default select example" [(ngModel)]="lockStatus" (ngModelChange)="onLockStatusChange()">
              <option value="TRUE">Chưa bị khoá</option>
            <option value="FALSE">Bị khoá</option>
        </select>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="card">
            <div class="card-body p-5">
                <table class="table table-borderless ">
                    <thead>
                        <tr class="p-5">
                            <th>Họ tên</th>
                            <th>Tài khoản</th>
                            <th>Vai trò</th>
                            <th>Thao Tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let u of user ">
                            <th scope="row ">{{u.fullname}}</th>
                            <td>{{u.username}}</td>
                            <td>{{u.role}}</td>
                            <td>
                                <button (click)="lockOrUnlock(u.username,u.actived)" class="btn btn-outline-danger ">{{u.actived ? "Khoá":"Mở Khoá"}}</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>
<!-- Button trigger modal -->

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <!-- <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1> -->
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="adminForm" (ngSubmit)="onSubmit()">
                    <!-- <div class="form-group mb-3 ">
                        <label class="mb-1 " for=" ">Họ tên</label>
                        <input ng-model="fullname " class="form-control " id="fullname " placeholder="Họ tên ">
                    </div>
                    <div class="form-group mb-3 ">
                        <label class="mb-1 " for=" ">Email</label>
                        <input ng-model="email " class="form-control " id="email " placeholder="Email " type="email ">
                    </div> -->
                    <div class="form-group mb-3 ">
                        <label class="mb-1 " for=" ">Tài khoản</label>
                        <input formControlName="username" class="form-control " id="username " placeholder="Tài khoản ">
                    </div>
                    <div class="form-group mb-3 ">
                        <label class="mb-1 " for=" ">Mật khẩu</label>
                        <input formControlName="password" class="form-control " id="password " type="password" placeholder="Mật khẩu ">
                    </div>
                    <button type="button " class="btn btn-primary">Thêm</button>
                </form>
            </div>

        </div>
    </div>
</div>
